<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="think_plc_inherit_field_sale_order" model="ir.ui.view">
        <field name="name">sale.order.think.form.view</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">       
            <field name='partner_id' position='attributes'>
                <attribute name='domain'>['|',('company_id','=',False),('company_id', 'parent_of', [company_id]),'|',('company_id','=',False),('company_id', 'parent_of', ''),('is_customer', '!=', False)]</attribute>
            </field>
            <field name='partner_invoice_id' position='attributes'>
                <attribute name='domain'>['|',('company_id','=',False),('company_id', 'parent_of', [company_id]),'|',('company_id','=',False),('company_id', 'parent_of', ''),('name', '!=', False)]</attribute>
            </field>
            <field name='partner_shipping_id' position='attributes'>
                <attribute name='domain'>['|',('company_id','=',False),('company_id', 'parent_of', [company_id]),'|',('company_id','=',False),('company_id', 'parent_of', ''), ('name', '!=', False), ('site_add_id','!=',False),  ('site_add_id','=',site_id)]</attribute>
            </field>
            <field name='partner_shipping_id' position='attributes'>
                <attribute name='required'>0</attribute>
            </field>
            <field name='partner_shipping_id' position='attributes'>
                <attribute name='context'>{'default_site_add_id':site_id,'show_address':1}</attribute>
            </field>
            <field name='partner_shipping_id' position='attributes'>
                <attribute name='options'>{'no_create': True, 'no_quick_create': True}</attribute>
            </field>
            <field name='partner_id' position='attributes'>
                <attribute name='context'>{'res_partner_search_mode': 'customer', 'show_address': 1, 'show_vat': True, 'display_website':True,'default_is_customer':1}</attribute>
            </field>
            <field name='payment_term_id' position='after'>
                <field name='x_studio_job_project_type'/>
                <field name='think_job_number'/>
                <field name='project_id'/>
                <field name='primary_customer' options="{'no_create': True, 'no_quick_create': True}"/>
            </field>
            <field name='partner_invoice_id' position='before'>
                <field name='site_id' options="{'no_quick_create': True}"/>
                <field name='assets_id' context="{'default_site_id':site_id}" options="{'no_quick_create': True}"/>
            </field>
            <xpath expr="//div[hasclass('oe_title')]" position="replace">
                <div class="oe_title row" style='width:100%;'>
                    <h1 style='width:23%;'>
                        <field name="name" readonly="1"/>
                    </h1>
                    <h1 style='width:77%;'>
                        <field name="quote_name" />
                    </h1>
                </div>
            </xpath>
        </field>
    </record>

    <record id="view_order_tree_inherit" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_quotation_tree_with_onboarding"/>
        <field name="arch" type="xml">
            <field name="name" position="replace">
                <field name="display_name" string='Number' decoration-bf="1"/>
            </field>
        </field>
    </record>
    <record id="view_order_tree_inherit" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.sale_order_tree"/>
        <field name="arch" type="xml">
            <field name="name" position="replace">
                <field name="display_name" string='Number' decoration-bf="1"/>
            </field>
        </field>
    </record>


    <record id="think_plc_inherit_field_sale_order_Sp" model="ir.ui.view">
        <field name="name">sale.order.think.form.view.invisible</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_project.view_order_form_inherit_sale_project"/>
        <field name="arch" type="xml">       
                <field name='project_id' position='attributes'>
                    <attribute name='invisible'>1</attribute>
                </field>
        </field>
    </record>

    <record id="think_plc_inherit_field_account_move" model="ir.ui.view">
        <field name="name">account.move.think.form.view</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">       
            <field name='partner_id' position='attributes'>
                <attribute name='domain'>[('company_id', 'in', (False, company_id)), '|', ('is_customer', '!=', False), ('is_sites', '!=', False)]</attribute>
                <attribute name='context'>{                                             'res_partner_search_mode': (context.get('default_move_type', 'entry') in ('out_invoice', 'out_refund', 'out_receipt') and 'customer') or (context.get('default_move_type', 'entry') in ('in_invoice', 'in_refund', 'in_receipt') and 'supplier') or False, 'show_address': 1, 'default_is_company': True, 'show_vat': True, 'default_is_customer': True}</attribute>
            </field>
        </field>
    </record>

    <record id="think_plc_inherit_field_purchase_order" model="ir.ui.view">
        <field name="name">purchase.order.think.form.view</field>
        <field name="model">purchase.order</field>
        <field name="inherit_id" ref="purchase.purchase_order_form"/>
        <field name="arch" type="xml">
            <field name='partner_id' position='attributes'>
                <attribute name='domain'>['|',('company_id','=',False),('company_id', 'parent_of', [company_id]),'|',('company_id','=',False),('company_id', 'parent_of', ''),('is_vendor', '!=', False)]</attribute>
                <attribute name='context'>{'res_partner_search_mode': 'supplier', 'show_vat': True,'default_is_vendor':1}</attribute>
            </field>
        </field>
    </record>

    <record id="ehcs_sale_inherit_gropu_by" model="ir.ui.view">
        <field name="name">sale.order.extended.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_sales_order_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//search/field[@name='name']" position="after">
                <field name="x_studio_job_project_type" string="Job / Project type"/>
            </xpath>
            <xpath expr="//search/group/filter[@name='order_month']" position="before">
                 <filter string="Job / Project type" name="order_month" domain="[]" context="{'group_by': 'x_studio_job_project_type'}"/>
            </xpath>
        </field>
    </record>

    <!-- <record id="think_plc_inherit_field_account_payment" model="ir.ui.view">
        <field name="name">account.payment.think.form.view</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">       
            <field name='partner_id' position='attributes'>
                <attribute name='domain'>[('company_id', 'in', (False, company_id)), '|', ('is_customer', '!=', False), ('is_sites', '!=', False)]</attribute>
                <attribute name='context'>{'default_is_company': True, 'default_is_customer': True}</attribute>
            </field>
        </field>
    </record> -->

    <!-- <record id="think_plc_inherit_field_crm_lead" model="ir.ui.view">
        <field name="name">crm.lead.think.form.view</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">       
            <field name='partner_id' position='attributes'>
                <attribute name='domain'>['|',('company_id','=',False),('company_id', 'parent_of', [company_id]),'|',('company_id','=',False),('company_id', 'parent_of', ''),('is_contact', '!=', False)]</attribute>
                <attribute name='context'>{                                         'default_name': contact_name,                                         'default_title': title,                                         'default_street': street,                                         'default_street2': street2,                                         'default_city': city,                                         'default_state_id': state_id,                                         'default_zip': zip,                                         'default_country_id': country_id,                                         'default_function': function,                                         'default_phone': phone,                                         'default_mobile': mobile,                                         'default_email': email_from,                                         'default_user_id': user_id,                                         'default_team_id': team_id,                                         'default_website': website,                                         'default_lang': lang_code,'show_vat': True,'default_is_contact': True}</attribute>
            </field>
        </field>
    </record> -->

</odoo>
